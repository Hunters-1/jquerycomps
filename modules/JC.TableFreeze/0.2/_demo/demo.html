<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>表格列冻结demo</title>
    <link href='../../../../modules/JC.TableFreeze/0.2/res/default/style.css' rel='stylesheet' />

    <style>
    .table {
        font-size: 12px;
        margin:0 auto 50px;
    }
    table {
        border-spacing: 0 !important;
        border-collapse: collapse;
    }
    th, td {
        border:1px solid #ddd;
        padding:0 5px;
    }
    th {
        background: #eee;
        font-weight: normal;
        text-align: left;
    }
    tr {
        height: 20px;
    }
    /*tr:hover{
            background: #fffbdd;
        }*/
    .breaklw {
        word-wrap: break-word;
        table-layout: fixed;
        word-break:break-all
    }
    .data-table td, .data-table2 td {
        height: 20px;
        padding: 3px 10px 4px;
    }
    div.compTFEextraTd {
        float: left;
        *display: inline;
        *zoom:1;
    }
    /*div.compTFPrevRoll table {
            margin-left: -1px;
        }*/
    .even td {
        background:#f8f8f8;
    }
    </style>
</head>

<body>
    <div style="width:800px;">
        <div class="table js_compTableFreeze" id="t1" freezeType="prev" freezeCols="2" >
        <table>
            <thead>
                <tr>
                    <th width="150"> 
                        item0
                    </th>
                    <th width="150">
                        item1
                    </th>
                    <th width="150">
                        item2
                    </th>
                    <th width="150">
                        item3
                    </th>
                    <th width="150">
                        item4
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td rowspan="3">
                        col00
                    </td>
                    <td rowspan="2">
                        col01
                    </td>
                    <td colspan="3">
                        col02
                    </td>
                    <td>
                        col03
                    </td>
                    <td>
                        col04
                    </td>
                </tr>
                <tr>
                    <td>
                        col10
                    </td>
                    <td>
                        col11
                    </td>
                    <td>
                        col12
                    </td>
                    <td>
                        col13
                    </td>
                    <td>
                        col14
                    </td>
                </tr>
                <tr>
                    <td>
                        col20
                    </td>
                    <td>
                        col21
                    </td>
                    <td>
                        col22
                    </td>
                    <td>
                        col23
                    </td>
                    <td>
                        col24
                    </td>
                </tr>
                <tr>
                    <td rowspan="2" colspan="2">
                        col30
                    </td>
                    <td>
                        col31
                    </td>
                    <td>
                        col32
                    </td>
                    <td>
                        col33
                    </td>
                    <td>
                        col34
                    </td>
                </tr>
                <tr>
                    <td>
                        col40
                    </td>
                    <td>
                        col41
                    </td>
                    <td>
                        col42
                    </td>
                    <td>
                        col43
                    </td>
                    <td>
                        col44
                    </td>
                </tr>
            </tbody>
        </table>
   </div>
   <div class="table">
        <table>
            <thead>
                <tr>
                    <th width="150"> 
                        item0
                    </th>
                    <th width="150">
                        item1
                    </th>
                    <th width="150">
                        item2
                    </th>
                    <th width="150">
                        item3
                    </th>
                    <th width="150">
                        item4
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>
                        col00
                    </td>
                    <td>
                        col01
                    </td>
                    <td>
                        col02
                    </td>
                    <td>
                        col03
                    </td>
                    <td>
                        col04
                    </td>
                </tr>
                <tr>
                    <td>
                        col10
                    </td>
                    <td>
                        col11
                    </td>
                    <td>
                        col12
                    </td>
                    <td>
                        col13
                    </td>
                    <td>
                        col14
                    </td>
                </tr>
                <tr>
                    <td>
                        col20
                    </td>
                    <td>
                        col21
                    </td>
                    <td>
                        col22
                    </td>
                    <td>
                        col23
                    </td>
                    <td>
                        col24
                    </td>
                </tr>
                <tr>
                    <td>
                        col30
                    </td>
                    <td>
                        col31
                    </td>
                    <td>
                        col32
                    </td>
                    <td>
                        col33
                    </td>
                    <td>
                        col34
                    </td>
                </tr>
                <tr>
                    <td>
                        col40
                    </td>
                    <td>
                        col41
                    </td>
                    <td>
                        col42
                    </td>
                    <td>
                        col43
                    </td>
                    <td>
                        col44
                    </td>
                </tr>
            </tbody>
        </table>
   </div>
    <script src="../../../../lib.js"></script>
    <script src="../../../../config.js"></script>
    <script>
    JC.debug = true;
    requirejs(['JC.TableFreeze'], function() {});

    function beforeCreateTableCallback()　 {
        JC.log("beforeCreateTableCallback", new Date().getTime());
    }

   $('#chktest').on('click', function () {
        $('div.js_compTableFreeze').each( function () {
            var _ins = JC.TableFreeze.getInstance( $( this ) );
            _ins && _ins.update() ;
           
            _ins._model.tempWidth = _ins._model.selector().prop('offsetWidth')
        });
   })
    </script>
</body>

</html>
